@model GestionnaireFootball.Models.Joueur
@{
    ViewData["Title"] = "Détails joueur";
}
<h2>@Model.Nom</h2>
<div>
    <hr />
    <div class="row">
        <div class="col-md-6">
            <dl class="row">
                <dt class="col-sm-4">Nom</dt>
                <dd class="col-sm-8">@Model.Nom</dd>
                <dt class="col-sm-4">Email</dt>
                <dd class="col-sm-8">@Model.Email</dd>
                <dt class="col-sm-4">Poste</dt>
                <dd class="col-sm-8">@Model.Poste</dd>
                <dt class="col-sm-4">Numéro</dt>
                <dd class="col-sm-8">@(Model.NumeroMaillot?.ToString() ?? "-")</dd>
                <dt class="col-sm-4">Note</dt>
                <dd class="col-sm-8">
                    @Model.NoteGlobale.ToString("0.0")/10
                    <div class="progress mt-1" style="height: 10px; width: 100px;">
                        <div class="progress-bar @(Model.NoteGlobale >= 7 ? "bg-success" : Model.NoteGlobale >= 5 ? "bg-warning" : "bg-danger")"
                             style="width: @(Model.NoteGlobale * 10)%">
                        </div>
                    </div>
                </dd>
            </dl>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Statistiques</h5>
                </div>
                <div class="card-body">
                    <p><strong>Matchs joués:</strong> @Model.MatchsJoues</p>
                    <p><strong>Taux de présence:</strong> @Model.TauxPresence.ToString("0.0")%</p>
                    @if (Model.Presences?.Any() == true)
                    {
                        <p>
                            <strong>Dernière présence:</strong>
                            @Model.Presences.OrderByDescending(p => p.DateSaisie).First().DateSaisie.ToString("dd/MM/yyyy")
                        </p>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
<div class="mt-3">
    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Modifier</a>
    <a asp-action="Index" class="btn btn-secondary">Retour à la liste</a>
</div>